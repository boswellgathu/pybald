
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Pybald Core &mdash; Pybald 0.2.8 documentation</title>
    
    <link rel="stylesheet" href="_static/solar.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.2.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Pybald 0.2.8 documentation" href="index.html" />
    <link rel="up" title="API Reference" href="api_reference.html" />
    <link rel="next" title="Middleware" href="middleware.html" />
    <link rel="prev" title="API Reference" href="api_reference.html" /><link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'>
<link href="_static/solarized-dark.css" rel="stylesheet">
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="middleware.html" title="Middleware"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="api_reference.html" title="API Reference"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Pybald 0.2.8 documentation</a> &raquo;</li>
          <li><a href="api_reference.html" accesskey="U">API Reference</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/pybald.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Pybald Core</a><ul>
<li><a class="reference internal" href="#module-pybald.core.templates"><tt class="docutils literal"><span class="pre">templates</span></tt> - template/view handling</a></li>
<li><a class="reference internal" href="#action-decorator-to-turn-methods-into-actions"><tt class="docutils literal"><span class="pre">action()</span></tt> - decorator to turn methods into actions</a></li>
<li><a class="reference internal" href="#controller-simple-base-class-that-pybald-controllers-can-optionally-subclass"><tt class="docutils literal"><span class="pre">Controller</span></tt> - simple base class that pybald controllers can optionally subclass</a></li>
<li><a class="reference internal" href="#module-pybald.core.router"><tt class="docutils literal"><span class="pre">router</span></tt> - pybald core, url dispatch, method munging, WSGI app</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="api_reference.html"
                        title="previous chapter">API Reference</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="middleware.html"
                        title="next chapter">Middleware</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/core.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="pybald-core">
<h1>Pybald Core<a class="headerlink" href="#pybald-core" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-pybald.core.templates">
<span id="templates-template-view-handling"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">templates</span></tt> - template/view handling<a class="headerlink" href="#module-pybald.core.templates" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pybald.core.templates.TemplateEngine">
<em class="property">class </em><tt class="descclassname">pybald.core.templates.</tt><tt class="descname">TemplateEngine</tt><big>(</big><em>template_path=None</em>, <em>cache_path=None</em><big>)</big><a class="headerlink" href="#pybald.core.templates.TemplateEngine" title="Permalink to this definition">¶</a></dt>
<dd><p>The basic template engine, looks up templates and renders them.
Uses the mako template system</p>
<dl class="method">
<dt id="pybald.core.templates.TemplateEngine.form_render">
<tt class="descname">form_render</tt><big>(</big><em>template_name=None</em>, <em>format='form'</em>, <em>**kargs</em><big>)</big><a class="headerlink" href="#pybald.core.templates.TemplateEngine.form_render" title="Permalink to this definition">¶</a></dt>
<dd><p>Render the form for a specific model using formalchemy.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>template_name</strong> &#8211; The name of the template to search for and
render for a form</li>
<li><strong>kargs</strong> &#8211; the data to render in the context of the form
template</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pybald.core.templates.TemplateEngine._get_template">
<tt class="descname">_get_template</tt><big>(</big><em>template</em>, <em>format='html'</em><big>)</big><a class="headerlink" href="#pybald.core.templates.TemplateEngine._get_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the proper template from the Mako template system.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>template</strong> &#8211; The name of the template in the filesystem to retrieve
for rendering.</li>
<li><strong>format</strong> &#8211; A string specifying the format for the template (html,
json, xml, etc...), overrides the format specified in
the data dictionary.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The _get_template method of the template engine constructs a template
name based on the template_id and the format and retrieves it from the
Mako template system.</p>
</dd></dl>

<dl class="method">
<dt id="pybald.core.templates.TemplateEngine.__call__">
<tt class="descname">__call__</tt><big>(</big><em>template=None</em>, <em>data={}</em>, <em>format='html'</em><big>)</big><a class="headerlink" href="#pybald.core.templates.TemplateEngine.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Renders the template.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>template</strong> &#8211; The name of the template in the filesystem to retrieve
for rendering.</li>
<li><strong>data</strong> &#8211; A dictionary that represents the context to render inside
the template. Keys in this dictionary will be available
to the template.</li>
<li><strong>format</strong> &#8211; A string specifying the format type to return (e.g. &#8216;html&#8217;,
&#8216;json&#8217;, &#8216;xml&#8217;)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Calls _get_template to retrieve the template and then renders it.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-pybald.core.controllers"></span></div>
<div class="section" id="action-decorator-to-turn-methods-into-actions">
<h2><a class="reference internal" href="#pybald.core.controllers.action" title="pybald.core.controllers.action"><tt class="xref py py-meth docutils literal"><span class="pre">action()</span></tt></a> - decorator to turn methods into actions<a class="headerlink" href="#action-decorator-to-turn-methods-into-actions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pybald.core.controllers.action">
<tt class="descclassname">pybald.core.controllers.</tt><tt class="descname">action</tt><big>(</big><em>method</em><big>)</big><a class="headerlink" href="#pybald.core.controllers.action" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorates methods that are WSGI apps to turn them into pybald-style actions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>method</strong> &#8211; A method to turn into a pybald-style action.</td>
</tr>
</tbody>
</table>
<p>This decorator is usually used to take the method of a controller instance
and add some syntactic sugar around it to allow the method to use WebOb
Request and Response objects. It will work with any method that
implements the WSGI spec.</p>
<p>It allows actions to work with WebOb request / response objects and handles
default behaviors, such as displaying the view when nothing is returned,
or setting up a plain text Response if a string is returned. It also
assigns instance variables from the <tt class="docutils literal"><span class="pre">pybald.extension</span></tt> environ variables
that can be set from other parts of the WSGI pipeline.</p>
<p>This decorator is optional but recommended for making working
with requests and responses easier.</p>
</dd></dl>

</div>
<div class="section" id="controller-simple-base-class-that-pybald-controllers-can-optionally-subclass">
<h2><a class="reference internal" href="#pybald.core.controllers.Controller" title="pybald.core.controllers.Controller"><tt class="xref py py-class docutils literal"><span class="pre">Controller</span></tt></a> - simple base class that pybald controllers can optionally subclass<a class="headerlink" href="#controller-simple-base-class-that-pybald-controllers-can-optionally-subclass" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pybald.core.controllers.Controller">
<em class="property">class </em><tt class="descclassname">pybald.core.controllers.</tt><tt class="descname">Controller</tt><big>(</big><em>*pargs</em>, <em>**kargs</em><big>)</big><a class="headerlink" href="#pybald.core.controllers.Controller" title="Permalink to this definition">¶</a></dt>
<dd><p>Base controller that includes the view and a default index method.</p>
<dl class="method">
<dt id="pybald.core.controllers.Controller._redirect_to">
<tt class="descname">_redirect_to</tt><big>(</big><em>*pargs</em>, <em>**kargs</em><big>)</big><a class="headerlink" href="#pybald.core.controllers.Controller._redirect_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Redirect the controller</p>
</dd></dl>

<dl class="method">
<dt id="pybald.core.controllers.Controller._status">
<tt class="descname">_status</tt><big>(</big><em>code</em><big>)</big><a class="headerlink" href="#pybald.core.controllers.Controller._status" title="Permalink to this definition">¶</a></dt>
<dd><p>Raise an http_client_error exception using a specific code</p>
</dd></dl>

<dl class="method">
<dt id="pybald.core.controllers.Controller._not_found">
<tt class="descname">_not_found</tt><big>(</big><em>text=None</em><big>)</big><a class="headerlink" href="#pybald.core.controllers.Controller._not_found" title="Permalink to this definition">¶</a></dt>
<dd><p>Raise the 404 http_client_error exception.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pybald.core.router">
<span id="router-pybald-core-url-dispatch-method-munging-wsgi-app"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">router</span></tt> - pybald core, url dispatch, method munging, WSGI app<a class="headerlink" href="#module-pybald.core.router" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pybald.core.router.Router">
<em class="property">class </em><tt class="descclassname">pybald.core.router.</tt><tt class="descname">Router</tt><big>(</big><em>application=None</em>, <em>routes=None</em>, <em>controllers=None</em><big>)</big><a class="headerlink" href="#pybald.core.router.Router" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Router object, the core of the pybald framework.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>application</strong> &#8211; WSGI application/middleware that is to be
<em>wrapped</em> by the router in the web app pipeline.</li>
<li><strong>routes</strong> &#8211; A routing function that takes a mapper (for parsing and
matching urls).</li>
<li><strong>controllers</strong> &#8211; A registry of all loaded controllers. This is
required to do routing lookups. This is also a
security precaution since only registered
controllers can be matched against.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pybald.core.router.Router.__call__">
<tt class="descname">__call__</tt><big>(</big><em>environ</em>, <em>start_response</em><big>)</big><a class="headerlink" href="#pybald.core.router.Router.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>A Router instance is a WSGI app. It accepts the standard WSGI call
signature of <tt class="docutils literal"><span class="pre">environ</span></tt>, <tt class="docutils literal"><span class="pre">start_response</span></tt>.</p>
<p>The Router has a few jobs. First it uses the Routes package to
compare the requested path to available url patterns that have
been loaded and passed to the Router upon init.</p>
<p>Router is the most <em>framework-like</em> component of Pybald. In addition to
dispatching urls to controllers, it also allows &#8216;method override&#8217;
behavior allowing other HTTP methods to be invoked such as <tt class="docutils literal"><span class="pre">put</span></tt> and
<tt class="docutils literal"><span class="pre">delete</span></tt> from web clients that don&#8217;t support them natively.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>environ</strong> &#8211; WSGI CGI-like request environment</li>
<li><strong>start_response</strong> &#8211; WSGI callback for starting the response and</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>setting HTTP response headers</p>
</dd></dl>

<dl class="method">
<dt id="pybald.core.router.Router.load">
<tt class="descname">load</tt><big>(</big><em>controllers</em><big>)</big><a class="headerlink" href="#pybald.core.router.Router.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles walking the registry (or old-style controller module) and
builds the lookup table for controller classes to match against.</p>
<p>Does some text munging to change the camel-case class names into
underscore-separated url like names. (HomeController to home)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>controllers</strong> &#8211; A controller registry</td>
</tr>
</tbody>
</table>
<p>All controller candidates are loaded into a hash to look up
the matched &#8220;controller&#8221; urlvar against.</p>
<p>The _controller suffix is removed from the module name for the url
route mapping table (so controller=&#8221;home&#8221; matches home_controller).</p>
<p>against and the routes regex is initialized with a list of controller
names.</p>
<p>Called only once at the start of a pybald application.</p>
</dd></dl>

<dl class="method">
<dt id="pybald.core.router.Router.load_old_style">
<tt class="descname">load_old_style</tt><big>(</big><big>)</big><a class="headerlink" href="#pybald.core.router.Router.load_old_style" title="Permalink to this definition">¶</a></dt>
<dd><p>Compatibility method for old-style pybald install.</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="middleware.html" title="Middleware"
             >next</a> |</li>
        <li class="right" >
          <a href="api_reference.html" title="API Reference"
             >previous</a> |</li>
        <li><a href="index.html">Pybald 0.2.8 documentation</a> &raquo;</li>
          <li><a href="api_reference.html" >API Reference</a> &raquo;</li> 
      </ul>
    </div>
  
    <div class="footer">
        &copy; Copyright 2014, Michael Kowalchik.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.Theme by <a href="http://github.com/vkvn">vkvn</a>
    </div>
  <!-- <script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? 
  "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + 
  "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
  </script>
  <script type="text/javascript">
  try {
  var pageTracker = _gat._getTracker("UA-13190724-1");
  pageTracker._trackPageview();
  } catch(err) {}</script> -->

  </body>
</html>